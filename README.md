# Проект "Client-banking-widget"

## Описание:

"Client-banking-widget" - это учебный проект по Python. 

Проект содержит код для разработки виджета банковских операций клиента. 
Виджет создается для отображения нескольких последних успешных банковских операций клиента.


## Установка:

1. Клонируйте репозиторий проекта:
````
git clone https://github.com/nadezhdapopova-spec/client-banking-widget.git
````
2. Установите зависимости внутри каталога проекта:
````
poetry install
````

## Использование:

### В проекте содержатся функции:

* **mask_account_card:** маскировка номера банковской карты или номера банковского счета

Пример работы функции для карты:
````
Visa Platinum 7000792289606361  # входной аргумент

Visa Platinum 7000 79** **** 6361  # выход функции
````
Пример работы функции для счета:
````
Счет 73654108430135874305  # входной аргумент

Счет **4305  # выход функции
````
* **get_date:** преобразование даты в формат "ДД.ММ.ГГГГ"
  
Пример работы функции:
````
"2024-03-11T02:26:18.671407"  # входной аргумент

"11.03.2024"  # выход функции
````
* **filter_by_state:** фильтрация данных о банковских операциях по статусу


* **sort_by_date:** сортировка данных по дате


* **filter_by_currency:** фильтрфция транзакций по заданной валюте и вывод по очереди


* **transaction_descriptions:** вывод каждой операции транзакции по очереди

Пример работы функции:
````
# вызов функции

descriptions = transaction_descriptions(transactions)
for _ in range(5):
    print(next(descriptions))

# выход функции

Перевод организации
Перевод со счета на счет
Перевод со счета на счет
Перевод с карты на карту
Перевод организации
````
* **card_number_generator:** генерация номеров банковских карт в заданном диапазоне в формате 
XXXX XXXX XXXX XXXX и вывод каждого по очереди

Пример работы функции:
````
# вызов функции

for card_number in card_number_generator(1, 5):
    print(card_number)

# выход функции

0000 0000 0000 0001
0000 0000 0000 0002
0000 0000 0000 0003
0000 0000 0000 0004
0000 0000 0000 0005
````
* **deserialize_info:** преобразование JSON-строки в Python-объекты 
(используется для получения из JSON-файла данных о финансовых транзакциях)


* **transact_conversion_to_rubles:** конвертация валюты из USD и EUR в рубли и получение суммы транзакции в рублях

Пример работы функции:
````
# вызов функции

transaction = {
        "id": 441945868,
        "state": "EXECUTED",
        "date": "2019-08-26T10:50:58.294041",
        "operationAmount": {
            "amount": "31957.58",
            "currency": {
                "name": "EUR",
                "code": "EUR"
            }
        }
    }
    
print(transact_conversion_to_rubles(transaction))

# выход функции

2946075.57 rub.
````

* **read_transactions_csv:** считывание финансовых операций из CSV-файлов


* **read_transactions_excel:** считывание финансовых операций из XLSX-файлов

### В проекте содержатся декораторы:

* **log:** автоматически логирует начало и конец выполнения функции,
а также ее результаты или возникшие ошибки
(при переданном аргументе filename логи записываются в файл mylog.txt.
Если filename не задан, логи выводятся в консоль)

Пример работы декоратора:
````
# вывод в лог-файл или консоль при успешном выполнении:

my_function ok
Function my_function called with args: () and kwargs: {}. Result:

# ожидаемый вывод при ошибке:

my_function error: текст ошибки. Inputs: (), {}
````

## Тестирование:
Для функций и декоратора реализованы юнит-тесты, покрытие составляет 100%

#### Запуск тестов:
```bash
pytest tests/ -v
```

## Лицензия:

Проект распространяется под [лицензией MIT](https://github.com/nadezhdapopova-spec/client-banking-widget/blob/main/LICENSE)
